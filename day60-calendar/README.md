# 📅 Calendar App

Pythonの`calendar`モジュールを使用して、英語と日本語の両方でカレンダーを表示するアプリケーションです。

## 🚀 実行方法
```bash
cd day60-calendar
python main.py
```

## 💡 使い方

### 📝 基本的な操作
```
年を入力してください（例: 2024）: 2025
月を入力してください（1〜12）: 6
```

### 📅 表示例
```
📅 English Calendar:
     June 2025
Sun Mon Tue Wed Thu Fri Sat
  1   2   3   4   5   6   7
  8   9  10  11  12  13  14
 15  16  17  18  19  20  21
 22  23  24  25  26  27  28
 29  30

🗾 日本語カレンダー:
      2025年6月
 日  月  火  水  木  金  土
                        1
 2   3   4   5   6   7   8
 9  10  11  12  13  14  15
16  17  18  19  20  21  22
23  24  25  26  27  28  29
30
```

### ✨ 機能
- 任意の年月のカレンダー表示
- 英語と日本語の両方で表示
- 日曜日始まりに統一
- 見やすい整列表示

## 📖 学んだことや今後の改善案（学習ログ）

### 🔧 主要な学習ポイント

#### 1️⃣ **`calendar`モジュールの活用**

```python
import calendar

# 基本的なカレンダー生成
cal = calendar.TextCalendar(firstweekday=6)  # 日曜日始まり
month_str = cal.formatmonth(year, month, w=3, l=1)
```

**重要な設定**:
- **`firstweekday=6`**: 日曜日始まり（Pythonでは6が日曜日）
- **`w=3`**: 各日の表示幅
- **`l=1`**: 行の高さ

#### 2️⃣ **言語間の曜日番号の違いを理解**

| 曜日 | Python `calendar` | JavaScript/Ruby/PHP |
|------|-------------------|---------------------|
| **日曜日** | `6` | `0` |
| **月曜日** | `0` | `1` |
| **火曜日** | `1` | `2` |
| **水曜日** | `2` | `3` |
| **木曜日** | `3` | `4` |
| **金曜日** | `4` | `5` |
| **土曜日** | `5` | `6` |

**重要な気づき**:
- **Python**: 月曜日が0から始まる（ISO 8601標準）
- **JavaScript/Ruby/PHP**: 日曜日が0から始まる（アメリカ式）

#### 3️⃣ **データ構造の適切な選択**

```python
# 辞書（Dictionary）- キーと値の関連付け
month_names = {
    1: "1月", 2: "2月", 3: "3月", 4: "4月", 5: "5月", 6: "6月",
    7: "7月", 8: "8月", 9: "9月", 10: "10月", 11: "11月", 12: "12月"
}

# リスト（List）- 順序が重要
day_names = ["日", "月", "火", "水", "木", "金", "土"]
```

**使い分けの理由**:
- **辞書**: 月番号→月名の変換に最適
- **リスト**: 曜日の順序とインデックスが重要

#### 4️⃣ **文字列フォーマットによる整列**

```python
# 文字列フォーマットで位置を揃える
day_header = "  ".join(f"{day:>2}" for day in day_names)
week_str = "  ".join(f"{day[0]:2}" if day[0] != 0 else "  " for day in week)
```

**フォーマット指定の詳細**:
- **`:>2`**: 右寄せ、2文字幅
- **`:^2`**: 中央寄せ、2文字幅
- **`:<2`**: 左寄せ、2文字幅

**重要な発見**: 曜日ヘッダーと日付の文字幅を統一することで、完璧に整列する

#### 5️⃣ **`monthdays2calendar()`の活用**

```python
cal = calendar.Calendar(firstweekday=6)
month_calendar = cal.monthdays2calendar(year, month)
```

**返り値の構造**:
```python
# 各要素は (day, weekday) のタプル
[
    [(0, 6), (0, 0), (0, 1), (0, 2), (0, 3), (1, 4), (2, 5)],  # 第1週
    [(3, 6), (4, 0), (5, 1), (6, 2), (7, 3), (8, 4), (9, 5)],  # 第2週
    # ...
]
```

- **`day[0]`**: 日付（0は該当月以外）
- **`day[1]`**: 曜日番号

### 💡 技術的な課題と解決

#### 🐛 **問題1: 日付の位置ズレ**
**原因**: 曜日ヘッダーと日付の文字幅が異なる
```python
# 問題のあったコード
day_header = "  ".join(f"{day:>2}" for day in day_names)    # 2文字幅
week_str = "  ".join(f"{day[0]:2}" if day[0] != 0 else "  " for day in week)  # 2文字幅
```

**解決**: 文字幅を統一
```python
# 修正後
day_header = "  ".join(f"{day:>1}" for day in day_names)    # 1文字幅に調整
```

#### 🐛 **問題2: 週の開始曜日の不一致**
**原因**: カレンダーデータと表示ヘッダーの曜日設定が異なる
```python
# 問題のあったコード
month_calendar = calendar.monthcalendar(year, month)  # デフォルト月曜始まり
day_names = ["日", "月", "火", "水", "木", "金", "土"]     # 日曜始まり
```

**解決**: 設定を統一
```python
# 修正後
cal = calendar.Calendar(firstweekday=6)  # 日曜日始まりに統一
month_calendar = cal.monthdays2calendar(year, month)
```

### 🎨 レイアウトの改善検討

#### 📏 **間隔調整の柔軟性**
```python
def format_japanese_calendar(year, month, spacing=2):
    separator = " " * spacing
    day_header = separator.join(f"{day:>2}" for day in day_names)
    week_str = separator.join(f"{day[0]:2}" if day[0] != 0 else "  " for day in week)
```

**間隔による見た目の違い**:
- **2文字**: コンパクト、小画面向け
- **4文字**: バランス良好、推奨
- **6文字**: ゆったり、大画面向け

### 🚀 今後の改善・発展アイデア

#### 📈 **機能拡張**
- **祝日表示**: 日本の祝日に色付けや記号表示
- **複数月表示**: 3ヶ月や12ヶ月の一覧表示
- **週番号表示**: ISO週番号の追加
- **月齢表示**: 新月・満月などの表示

#### 🎨 **視覚的改善**
- **カラー表示**: 土日や祝日の色分け
- **今日のハイライト**: 現在の日付を強調表示
- **季節テーマ**: 月ごとの装飾や絵文字

#### 🖥️ **インターフェース拡張**
- **GUI版**: `tkinter`を使ったウィンドウアプリ
- **Web版**: `Flask`を使ったWebアプリ
- **CLI改善**: 引数での年月指定、ヘルプ機能

#### 🌍 **国際化対応**
```python
# 多言語対応の設計例
languages = {
    'ja': {
        'months': ['1月', '2月', ...],
        'days': ['日', '月', '火', ...]
    },
    'en': {
        'months': ['Jan', 'Feb', ...],
        'days': ['Sun', 'Mon', 'Tue', ...]
    }
}
```

#### 📊 **高度な機能**
- **イベント管理**: 予定の表示・管理
- **リマインダー**: 重要な日の通知
- **エクスポート**: PDF/画像出力
- **データ連携**: Google Calendarとの同期

### 🎓 **この実装から学べる重要な概念**

#### 💻 **プログラミングスキル**
1. **モジュール活用**: 標準ライブラリの効果的な使用
2. **データ構造**: 辞書とリストの適切な使い分け
3. **文字列処理**: フォーマット指定による整列技術
4. **問題解決**: 位置ズレなどの視覚的問題の分析・修正

#### 🌐 **国際化への理解**
1. **文化的差異**: 週の開始曜日の違い
2. **標準の違い**: 言語間での曜日番号の相違
3. **設計思想**: ISO標準 vs 地域慣習

#### 🎨 **UI/UX設計**
1. **可読性**: 情報の整列と間隔調整
2. **比較表示**: 英語・日本語並列表示の価値
3. **拡張性**: 将来の機能追加を考慮した設計

このカレンダーアプリは、**基本的でありながら多くの重要な概念**を含む優秀な学習プロジェクトです。特に**国際化対応**や**視覚的なレイアウト調整**など、実用的なアプリケーション開発で必要となるスキルを習得できました！🎉