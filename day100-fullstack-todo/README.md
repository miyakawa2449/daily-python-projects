# Day 100: フルスタックToDoアプリ - 100日チャレンジ集大成

## アプリケーション名
**ToDoマスター** - 認証機能付きフルスタックToDoアプリケーション

100日間のPythonチャレンジ最終日の集大成プロジェクトです。これまでに学んだ技術を総結集し、実用的なフルスタックWebアプリケーションを構築しました。

## 🎯 アプリケーション概要

本プロジェクトは、Flask + MySQL + Bootstrapを使用した、認証機能付きのToDoアプリケーションです。過去のプロジェクトで学んだ以下の技術を統合しています：

- **Day 99**: Flask-Loginによる認証システム
- **Day 98**: Markdown対応のコンテンツ管理
- **Day 97**: 画像アップロード機能

### 主な機能
- ユーザー登録・ログイン機能
- ToDoのCRUD操作（作成・読取・更新・削除）
- Markdown記法による詳細説明
- 画像メモの添付
- 優先度と期限の管理
- レスポンシブデザイン

## ファイル構成

```
day100-fullstack-todo/
├── app.py              # Flaskアプリケーション設定
├── models.py           # データベースモデル定義
├── forms.py            # WTFormsフォーム定義
├── run.py              # アプリケーション起動スクリプト
├── .env                # 環境変数（gitignoreに追加）
├── requirements.txt    # 依存関係リスト
├── routes/
│   ├── auth.py         # 認証関連のルート
│   └── todo.py         # ToDo関連のルート
├── templates/
│   ├── base.html       # ベーステンプレート
│   ├── auth/
│   │   ├── login.html  # ログインページ
│   │   └── register.html # 登録ページ
│   └── todo/
│       ├── index.html  # ToDo一覧
│       ├── form.html   # ToDo作成・編集フォーム
│       └── view.html   # ToDo詳細表示
└── static/
    ├── css/
    │   └── style.css   # カスタムスタイル
    └── uploads/        # アップロード画像保存先
```

## 実行方法

### 1. 環境準備
```bash
# condaで仮想環境を作成（既に作成済みの場合はスキップ）
conda create -n daily-python python=3.10
conda activate daily-python
```

### 2. 依存関係のインストール
```bash
pip install Flask Flask-Login Flask-SQLAlchemy Flask-Migrate Flask-WTF WTForms PyMySQL python-dotenv Werkzeug Pillow markdown2 bleach
```

### 3. 環境変数の設定
`.env`ファイルを作成し、以下を設定：
```
DATABASE_URL=mysql+pymysql://username:password@localhost/day100_fullstack_todo
SECRET_KEY=your-secret-key-here
```

### 4. データベースの初期化
```bash
# MySQLでデータベースを作成
mysql -u root -p
CREATE DATABASE day100_fullstack_todo CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
exit;

# アプリケーションを起動（初回起動時にテーブルが自動作成されます）
python run.py
```

### 5. アプリケーションの起動
```bash
python run.py
```

ブラウザで http://127.0.0.1:5000 にアクセス

## 使い方

### 1. ユーザー登録
- トップページから「新規登録」をクリック
- ユーザー名、メールアドレス、パスワードを入力
- 登録完了後、ログインページへリダイレクト

### 2. ログイン
- ユーザー名とパスワードでログイン
- 「ログイン状態を保持」にチェックで次回から自動ログイン

### 3. ToDo作成
- 「新規作成」ボタンをクリック
- タイトル（必須）と詳細説明（Markdown対応）を入力
- 優先度（高・中・低）と期限日を設定
- 画像メモを添付可能

### 4. Markdown記法の例
```markdown
## 見出し
**太字**、*イタリック*、`コード`

### チェックリスト
- [ ] 未完了タスク
- [x] 完了タスク

### テーブル
| 項目 | 内容 |
|------|------|
| 予算 | 1000円 |

> 引用文
```

### 5. ToDo管理
- **一覧表示**: カード形式で見やすく表示
- **詳細表示**: Markdownがフォーマットされて表示
- **編集**: 既存のToDoを更新
- **完了/未完了**: ワンクリックで状態切り替え
- **削除**: 確認ダイアログ後に削除

## 📖 学んだことや今後の改善案（学習ログ）

### 学習ポイント

#### 1. MVCアーキテクチャの実践
- **Model**: SQLAlchemyを使ったデータモデル設計
- **View**: Jinja2テンプレートによる動的なHTML生成
- **Controller**: Blueprintを使ったルーティングの整理

#### 2. セキュリティ実装
- **認証**: Flask-Loginによるセッション管理
- **パスワード**: Werkzeugによる安全なハッシュ化
- **CSRF対策**: Flask-WTFの自動トークン検証
- **XSS対策**: bleachによるHTMLサニタイズ
- **SQLインジェクション対策**: ORMの使用

#### 3. データベース設計
- **リレーション**: UserとTodoの1対多関係
- **外部キー制約**: データ整合性の保証
- **カスケード削除**: ユーザー削除時の関連データ処理

#### 4. 高度な機能実装
- **Markdown処理**: markdown2による変換とセキュアな表示
- **画像処理**: Pillowによるリサイズと最適化
- **タイムゾーン**: UTC保存とJST表示の実装

#### 5. UI/UXの考慮
- **レスポンシブデザイン**: Bootstrap 5の活用
- **視覚的フィードバック**: 優先度の色分け、完了状態の表示
- **ユーザビリティ**: 直感的な操作とフォームバリデーション

### 技術スタック詳細

| カテゴリー | 技術 | 用途 |
|------------|------|------|
| フレームワーク | Flask 3.0.0 | Webアプリケーション基盤 |
| 認証 | Flask-Login | ユーザー認証とセッション管理 |
| ORM | Flask-SQLAlchemy | データベース操作 |
| フォーム | Flask-WTF, WTForms | フォーム処理とバリデーション |
| DB | MySQL + PyMySQL | データ永続化 |
| UI | Bootstrap 5 | レスポンシブデザイン |
| 画像処理 | Pillow | 画像リサイズ・最適化 |
| Markdown | markdown2, bleach | 安全なMarkdown処理 |

### 今後の改善案

#### 機能拡張
- [ ] **検索機能**: タイトルや詳細説明からのキーワード検索
- [ ] **タグ機能**: ToDoのカテゴリー分類
- [ ] **ソート機能**: 優先度、期限、作成日での並び替え
- [ ] **フィルタリング**: 完了/未完了、優先度での絞り込み
- [ ] **通知機能**: 期限が近いToDoのリマインダー
- [ ] **共有機能**: ToDoリストの他ユーザーとの共有

#### 技術的改善
- [ ] **API化**: RESTful APIとしての実装
- [ ] **非同期処理**: 画像アップロードの非同期化
- [ ] **キャッシュ**: Redisを使った高速化
- [ ] **テスト**: pytest による自動テスト
- [ ] **CI/CD**: GitHub Actionsでの自動デプロイ
- [ ] **コンテナ化**: Dockerによる環境構築の簡易化

#### UX改善
- [ ] **ダークモード**: ユーザー設定による切り替え
- [ ] **ドラッグ&ドロップ**: ToDoの並び替え
- [ ] **プログレスバー**: タスク完了率の可視化
- [ ] **カレンダービュー**: 期限ベースの表示
- [ ] **モバイルアプリ**: React NativeやFlutterでの実装

### 100日チャレンジを振り返って

このプロジェクトは、100日間のPython学習の集大成として、以下の要素を統合しました：

1. **基礎から応用まで**: Python基礎文法からWebアプリケーション開発まで
2. **実践的な開発**: 実際に使えるアプリケーションの構築
3. **セキュリティ意識**: 脆弱性を考慮した安全な実装
4. **ユーザー目線**: 使いやすさを重視したUI/UX設計
5. **保守性**: コードの構造化とドキュメント化

この経験を基に、さらに大規模で複雑なアプリケーション開発に挑戦していきたいと思います。

---

**100日間のPythonチャレンジ完走おめでとうございます！** 🎉
