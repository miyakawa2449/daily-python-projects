# 🤖 day86-gpt-chat

## 📋 アプリケーション名
**ChatGPT API チャットボット**

## 🎯 アプリケーション概要
OpenAI ChatGPT APIを使用したシンプルなコンソールベースのチャットボットです。ターミナル上でChatGPTと直接対話できる、軽量で分かりやすい実装になっています。

## 📁 ファイル構成
```
day86-gpt-chat/
├── chatgpt_bot.py           # メインチャットボットプログラム
├── .env                     # OpenAI APIキー設定ファイル
├── requirements.txt         # 依存ライブラリ（要作成）
└── README.md               # このファイル
```

## 🚀 実行方法

### 1️⃣ **依存ライブラリのインストール**
```bash
pip install openai python-dotenv
```

### 2️⃣ **環境変数の設定**
`.env`ファイルを作成してOpenAI APIキーを設定：
```bash
OPENAI_API_KEY=your-api-key-here
```

### 3️⃣ **プログラムの実行**
```bash
python chatgpt_bot.py
```

## 💻 使い方

### 📊 **基本操作**
1. プログラムを実行すると、チャットが開始されます
2. `🧑 あなた: ` プロンプトにメッセージを入力
3. ChatGPTが応答を返します
4. 終了するには `exit` または `quit` を入力

### 🎯 **使用例**
```
🤖 ChatGPT APIチャットボット（終了するには 'exit'）
🧑 あなた: こんにちは
🤖 GPT: こんにちは！何かお手伝いできることはありますか？

🧑 あなた: Pythonについて教えて
🤖 GPT: Pythonはプログラミング言語の一つで...

🧑 あなた: exit
👋 終了します。
```

## ✨ 機能

### 🤖 **ChatGPT API統合**
- **OpenAI APIクライアント**: 新しいv1.0.0以降のAPI形式に対応
- **GPT-3.5-turbo**: デフォルトモデルとして使用
- **システムプロンプト**: 「親切なAIアシスタント」として設定

### 🔒 **セキュリティ機能**
- **環境変数管理**: `.env`ファイルでAPIキーを安全に管理
- **エラーハンドリング**: API呼び出し失敗時の適切なエラー表示

### 💬 **対話機能**
- **コンソール対話**: シンプルなターミナルベースのUI
- **終了コマンド**: `exit`または`quit`で安全に終了
- **リアルタイム応答**: 入力後すぐにChatGPTから応答

## 🛠️ 技術仕様

### 📚 **使用ライブラリ**
```python
import os              # 環境変数アクセス
from dotenv import load_dotenv  # .envファイル読み込み
from openai import OpenAI       # OpenAI APIクライアント
```

### 🔧 **API設定**
- **モデル**: `gpt-3.5-turbo`
- **メッセージ形式**: OpenAI Chat Completions API
- **システムロール**: 親切なAIアシスタント
- **エラーハンドリング**: 例外処理による安全な実行

### 📊 **主要関数**

#### **`chat_with_gpt(prompt, model="gpt-3.5-turbo")`**
- ChatGPI APIにプロンプトを送信
- システムメッセージとユーザーメッセージを構成
- API応答の取得とエラーハンドリング

#### **`main()`**
- メインループによる対話処理
- ユーザー入力の受付
- 終了コマンドの処理

## 📊 使用例

### 🔔 **学習用途**
```bash
# OpenAI APIの基本的な使い方を学習
python chatgpt_bot.py
```

### 📈 **開発補助**
```bash
# プログラミングの質問やコードレビュー
python chatgpt_bot.py
```

### 🎯 **日常使用**
```bash
# 一般的な質問や相談
python chatgpt_bot.py
```

## ⚠️ 重要な注意事項

### 🔑 **APIキー管理**
- `.env`ファイルはGitにコミットしないでください
- APIキーは安全に管理してください
- 使用量に応じてOpenAIから課金されます

### 🛡️ **セキュリティ**
```bash
# .gitignoreに以下を追加
.env
__pycache__/
*.pyc
```

## 🔧 トラブルシューティング

### ❌ **よくあるエラー**

#### **1. OpenAI API v1.0.0 エラー**
```
openai.ChatCompletion is no longer supported
```
**解決策**: 新しいAPI形式を使用（このプログラムは対応済み）

#### **2. APIキーエラー**
```
Invalid API key
```
**解決策**: `.env`ファイルでAPIキーを正しく設定

#### **3. インポートエラー**
```
ModuleNotFoundError: No module named 'openai'
```
**解決策**: `pip install openai python-dotenv`

## 📖 学んだことや今後の改善案（学習ログ）

### ✅ **学んだこと**

#### 🤖 **OpenAI API統合**
- **新しいAPI形式**: OpenAI Python v1.0.0以降の使い方
- **クライアント初期化**: `OpenAI(api_key=...)`による設定
- **Chat Completions**: `client.chat.completions.create()`の使用

#### 🔒 **環境変数管理**
- **python-dotenv**: `.env`ファイルからの設定読み込み
- **セキュリティ**: APIキーの安全な管理方法
- **設定分離**: コードと設定の適切な分離

#### 💻 **コンソールアプリケーション**
- **対話ループ**: `while True`による継続的な入力受付
- **ユーザー体験**: 絵文字による分かりやすいUI
- **エラーハンドリング**: try-except文による堅牢性

### 🚀 **今後の改善案**

#### 🔥 **優先度高**
- [ ] **会話履歴**: 前の会話を記憶する機能
- [ ] **モデル選択**: GPT-4など他のモデルへの切り替え
- [ ] **設定ファイル**: temperature、max_tokensの調整
- [ ] **ログ機能**: 会話履歴の保存

#### 🌟 **優先度中**
- [ ] **コマンド機能**: `/help`、`/clear`などの特殊コマンド
- [ ] **ファイル入力**: テキストファイルからの一括質問
- [ ] **出力形式**: JSON、マークダウンでの応答保存
- [ ] **多言語対応**: システムプロンプトの言語切り替え

#### 💡 **優先度低（発展）**
- [ ] **GUI版**: Tkinter、PyQt5での視覚的インターフェース
- [ ] **Web版**: Flask/Djangoによるブラウザ対応
- [ ] **音声入力**: speech_recognitionによる音声チャット
- [ ] **プラグイン**: カスタム機能の追加システム

### 🔧 **技術的改善**
- [ ] **非同期処理**: `asyncio`による応答性向上
- [ ] **ストリーミング**: リアルタイム応答表示
- [ ] **キャッシュ**: 同じ質問への高速応答
- [ ] **テスト**: ユニットテスト・統合テストの追加

### 🎯 **技術的な発見**

#### **1. OpenAI API進化**
- **v1.0.0以降**: より直感的なクライアント設計
- **型安全性**: 属性アクセスによる安全なデータ取得
- **エラーハンドリング**: 改善された例外処理

#### **2. 環境変数のベストプラクティス**
- **分離の原則**: 設定とコードの明確な境界
- **セキュリティ**: 機密情報の安全な管理
- **再利用性**: 環境ごとの設定切り替え

#### **3. シンプル設計の価値**
- **理解しやすさ**: 36行で完結する明確な構造
- **拡張性**: 機能追加の容易な基盤
- **学習効果**: API使用方法の効率的な習得

### 📚 **参考リソース**
- **OpenAI API Documentation**: 公式APIガイド
- **OpenAI Python Library**: GitHub上の最新情報
- **python-dotenv**: 環境変数管理のベストプラクティス

### 🏆 **プロジェクト成果**
- **コード行数**: 36行（Python）
- **実装時間**: 約1-2時間
- **外部依存**: openai、python-dotenv
- **対応API**: OpenAI v1.0.0以降
- **学習価値**: ⭐⭐⭐⭐⭐（API統合の基礎として最適）

### 🎯 **実用性の評価**
- **学習用途**: ✅ API使用方法の理解に最適
- **プロトタイプ**: ✅ ChatGPT統合アプリの基盤
- **日常使用**: ✅ シンプルな対話ツールとして実用的
- **本格運用**: ⚠️ 履歴管理・UI改善が必要

このシンプルなチャットボットは、OpenAI APIを学習し、より複雑なAIアプリケーションを構築するための優れた出発